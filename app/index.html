<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <title>jQuery File Upload Example</title>
  <link rel="stylesheet" href="app.css" type="text/css">
</head>

<body>
  <div>
    <input id="fileupload" type="file" name="files[]" multiple>
  </div>
  <div id="progress">
    <div class="bar" style="width: 0%;"></div>
  </div>
  <iframe id="videoframe" style="display: none" src="http://fast.wistia.net/embed/iframe/pssft4xotc?videoFoam=true" allowtransparency="true"
    frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen
    oallowfullscreen msallowfullscreen width="640" height="360"></iframe>
  <script src="//fast.wistia.net/assets/external/iframe-api-v1.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="js/vendor/jquery.ui.widget.js"></script>
  <script src="js/jquery.iframe-transport.js"></script>
  <script src="js/jquery.fileupload.js"></script>
  <script>
    $(function () {
      $('#fileupload').fileupload({
        url: 'https://upload.wistia.com?api_password=********',
        dataType: 'json',
        done: function (e, data) {
          console.log("http://fast.wistia.net/embed/iframe/" + data.result.hashed_id)
          $('#videoframe').attr('src', "http://fast.wistia.net/embed/iframe/" + data.result.hashed_id);
          $('#videoframe').css({
            display: 'inline'
          });

        },
        progressall: function (e, data) {
          var progress = parseInt(data.loaded / data.total * 100, 10);
          $('#progress .bar').css(
            'width',
            progress + '%'
          );
        }
      });
    });
  </script>
</body>

</html>